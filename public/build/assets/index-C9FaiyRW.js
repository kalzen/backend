import{r as o,j as e,L as x,$ as n,S as i}from"./app-D8YXCCGm.js";import{H as p}from"./heading-small-Dp9SXKHh.js";import{A as u}from"./app-layout-C1tLns7f.js";import{B as r}from"./app-logo-icon-D3q4jutg.js";import{I as g}from"./input-DIFhgXRH.js";import{P as j}from"./pagination-D1zSGf7z.js";import"./index-CfBvjdYh.js";import"./index-CafUGOqO.js";import"./select-DHTqNQQb.js";import"./index-BJCMpJiB.js";import"./chevron-down-84El_AJR.js";const f=[{title:"Danh mục",href:"/categories"}];function z({categories:s,filters:t}){const[l,d]=o.useState(t.search||""),m=a=>{a.preventDefault(),i.get(route("categories.index"),{search:l},{preserveState:!0})},c=a=>{i.get(route("categories.index"),{...t,page:a},{preserveState:!0})},h=a=>{i.get(route("categories.index"),{...t,per_page:a},{preserveState:!0})};return e.jsxs(u,{breadcrumbs:f,children:[e.jsx(x,{title:"Danh mục"}),e.jsxs("div",{className:"space-y-6 px-4 py-6",children:[e.jsxs("div",{className:"flex items-center justify-between pb-4 border-b",children:[e.jsx(p,{title:"Quản lý danh mục",description:"Tạo, chỉnh sửa và quản lý danh mục cho bài viết"}),e.jsx(n,{href:"/categories/create",children:e.jsx(r,{children:"Thêm danh mục mới"})})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[e.jsx("form",{onSubmit:m,className:"flex-1 max-w-sm",children:e.jsxs("div",{className:"relative flex items-center",children:[e.jsx(g,{type:"search",placeholder:"Tìm kiếm danh mục...",className:"pl-4 pr-12",value:l,onChange:a=>d(a.target.value)}),e.jsx(r,{type:"submit",size:"sm",variant:"ghost",className:"absolute right-0",children:"Tìm"})]})}),t.search&&e.jsx(r,{variant:"ghost",onClick:()=>i.get(route("categories.index"),{}),children:"Xóa bộ lọc"})]}),s.data.length===0?e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:t.search?`Không tìm thấy danh mục nào phù hợp với "${t.search}"`:"Chưa có danh mục nào. Hãy thêm danh mục đầu tiên của bạn."}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.data.map(a=>e.jsx("div",{className:"rounded-lg border bg-card text-card-foreground shadow",children:e.jsxs("div",{className:"flex flex-col",children:[a.image_thumb&&e.jsx("div",{className:"relative h-48 w-full overflow-hidden rounded-t-lg",children:e.jsx("img",{src:a.image,alt:a.title,className:"h-full w-full object-cover"})}),e.jsxs("div",{className:"flex-1 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold",children:a.title}),a.description&&e.jsx("p",{className:"mt-2 text-sm text-muted-foreground line-clamp-2",children:a.description}),e.jsx("div",{className:"mt-4",children:e.jsxs("span",{className:"inline-flex items-center rounded-full bg-primary/10 px-2.5 py-0.5 text-xs font-medium text-primary",children:[a.posts_count," bài viết"]})}),e.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[e.jsx(n,{href:`/categories/${a.id}/edit`,children:e.jsx(r,{variant:"outline",size:"sm",children:"Sửa"})}),e.jsx(n,{href:`/categories/${a.id}`,method:"delete",as:"button",children:e.jsx(r,{variant:"destructive",size:"sm",children:"Xóa"})})]})]})]})},a.id))})]}),s.meta&&e.jsx("div",{className:"mt-6 border-t pt-6",children:e.jsx(j,{currentPage:s.meta.current_page,lastPage:s.meta.last_page,perPage:parseInt(t.per_page||"10"),total:s.meta.total,from:s.meta.from||0,to:s.meta.to||0,onPageChange:c,onPerPageChange:h})})]})}export{z as default};
